<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>11683 UVa, Laser Sculpture | Mostafa Touny</title>
<meta name=keywords content><meta name=description content="Challenging my self to prove its correctness via formal logic."><meta name=author content><link rel=canonical href=https://mostafatouny.github.io/competitive-prog-post/laser-sclupture/><link crossorigin=anonymous href=/assets/css/stylesheet.e6ee52f0fc7c2e3dbd78858fc1b3e06fb86a3c6ee38d351342e06e23a24d02d6.css integrity="sha256-5u5S8Px8Lj29eIWPwbPgb7hqPG7jjTUTQuBuI6JNAtY=" rel="preload stylesheet" as=style><link rel=icon href=https://mostafatouny.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mostafatouny.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mostafatouny.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://mostafatouny.github.io/apple-touch-icon.png><link rel=mask-icon href=https://mostafatouny.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mostafatouny.github.io/competitive-prog-post/laser-sclupture/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="11683 UVa, Laser Sculpture"><meta property="og:description" content="Challenging my self to prove its correctness via formal logic."><meta property="og:type" content="article"><meta property="og:url" content="https://mostafatouny.github.io/competitive-prog-post/laser-sclupture/"><meta property="article:section" content="competitive-prog-post"><meta property="article:published_time" content="2020-05-01T00:00:01+00:00"><meta property="article:modified_time" content="2020-05-01T00:00:01+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="11683 UVa, Laser Sculpture"><meta name=twitter:description content="Challenging my self to prove its correctness via formal logic."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Competitive Programming","item":"https://mostafatouny.github.io/competitive-prog-post/"},{"@type":"ListItem","position":2,"name":"11683 UVa, Laser Sculpture","item":"https://mostafatouny.github.io/competitive-prog-post/laser-sclupture/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"11683 UVa, Laser Sculpture","name":"11683 UVa, Laser Sculpture","description":"Challenging my self to prove its correctness via formal logic.","keywords":[],"articleBody":"Proposed Solution, Intuitively Before delving into mathematical rigour details, Let me give you an intuitive description of the solution and why it works.\nNote that the laser only sculpts a layer of height equal to one while it is still on. If we wish to sculpts a layer of height 2, Then the laser must be toggled on and off twice. That suggests each layer intended to be sculpted counts on the laser to be turned on after being on off state. What if there are more than one sculpture on the same layer, but separated by couple of unsculpted units? then each sculpture on this layer counts per se.\nThink of the following, where b indicates a sculpted unit and x indicates an unsculpted unit. A height equal to three is made here for a simple illustration.\nX_i X_i+1 b b x b x x if $X_i$ here is $X_1$, then certainly the blank unit counts as a laser is turned on. What about $X_1$, Would the two blank units count each on laser? Considering the fact that a laser could move horizontally while it is still being turned on allows two blanks crossing $X_0$ and $X_1$ to be sculpted on one count. What about the second blank of $X_1$? Clearly, The laser must sculp the blank above it first, So the second blank would be an additional count. Seemingly, We came across a condition here. if a blank in $X_i+1$ came after a blank in $X_i$, Then it should not count but if it came after an unsculpted unit, Then it counts.\nThe observation suggests the following. A column which tracks counts on each layer, and the state of the last scanned unit, i.e whether it is sculpted or not. Initially, It would be\ncount unit 0 x 0 x 0 x x units initialized here are on behalf of the left most outer border. We proceed as follows, For a given X_i determine units b sculpted and units x unsculpted. If a unit is x, Then leave count as it is. If a unit is b, Then check the unit before it, If it is b leave count but if it is x increment count by one. Afterward, Update unit column with the new unit. Do these steps on all vertical units. Repeat the procedure on each $X_i$. The correct result is the sum of all counts.\nWe could furtherly improve. Why do we need to track each layer on a separated count for it? Instead, We could define only one variable which gets incremented whenever any layer detects a new laser sculpture. In addition, For the unit column, We do not need to check every unit and compare it with the previous one in order to find blank units preceeded by unsculpted x units. max(0, $X_i$ - $X_{i+1}$) would do the trick of finding blank units b in $X_{i+1}$ preceeded by x unit.\nSource Code #include #include #define usi unsigned short int int main() { usi h, w; int X_bef, X_cur, cou; while(true) { scanf(\"%hu %hu\", \u0026h, \u0026w); if (h == 0) break; cou = 0; X_bef = h; for (usi i=0; i","wordCount":"1917","inLanguage":"en","datePublished":"2020-05-01T00:00:01Z","dateModified":"2020-05-01T00:00:01Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://mostafatouny.github.io/competitive-prog-post/laser-sclupture/"},"publisher":{"@type":"Organization","name":"Mostafa Touny","logo":{"@type":"ImageObject","url":"https://mostafatouny.github.io/favicon.ico"}}}</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["$$","$$"],["\\[","\\]"]],inlineMath:[["$","$"],["\\(","\\)"]]}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mostafatouny.github.io/ accesskey=h title="Mostafa Touny (Alt + H)">Mostafa Touny</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mostafatouny.github.io/about title=About><span>About</span></a></li><li><a href=https://mostafatouny.github.io/post title=Blog><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">11683 UVa, Laser Sculpture</h1><div class=post-meta><span title='2020-05-01 00:00:01 +0000 UTC'>May 1, 2020</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#proposed-solution-intuitively aria-label="Proposed Solution, Intuitively">Proposed Solution, Intuitively</a></li><li><a href=#source-code aria-label="Source Code">Source Code</a></li><li><a href=#formal-logic aria-label="Formal Logic">Formal Logic</a><ul><li><a href=#definitions aria-label=Definitions>Definitions</a></li><li><a href=#proof aria-label=Proof>Proof</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=proposed-solution-intuitively>Proposed Solution, Intuitively<a hidden class=anchor aria-hidden=true href=#proposed-solution-intuitively>#</a></h2><p>Before delving into mathematical rigour details, Let me give you an intuitive description of the solution and why it works.</p><p>Note that the laser only sculpts a layer of height equal to one while it is still on. If we wish to sculpts a layer of height 2, Then the laser must be toggled on and off twice. That suggests each layer intended to be sculpted counts on the laser to be turned on after being on off state. What if there are more than one sculpture on the same layer, but separated by couple of unsculpted units? then each sculpture on this layer counts per se.</p><p>Think of the following, where <em>b</em> indicates a sculpted unit and <em>x</em> indicates an unsculpted unit. A height equal to three is made here for a simple illustration.</p><table><thead><tr><th>X_i</th><th style=text-align:center>X_i+1</th></tr></thead><tbody><tr><td>b</td><td style=text-align:center>b</td></tr><tr><td>x</td><td style=text-align:center>b</td></tr><tr><td>x</td><td style=text-align:center>x</td></tr></tbody></table><p>if $X_i$ here is $X_1$, then certainly the blank unit counts as a laser is turned on. What about $X_1$, Would the two blank units count each on laser? Considering the fact that a laser could move horizontally while it is still being turned on allows two blanks crossing $X_0$ and $X_1$ to be sculpted on one count. What about the second blank of $X_1$? Clearly, The laser must sculp the blank above it first, So the second blank would be an additional count. Seemingly, We came across a condition here. if a blank in $X_i+1$ came after a blank in $X_i$, Then it should not count but if it came after an unsculpted unit, Then it counts.</p><p>The observation suggests the following. A column which tracks counts on each layer, and the state of the last scanned unit, i.e whether it is sculpted or not. Initially, It would be</p><table><thead><tr><th>count</th><th style=text-align:center>unit</th></tr></thead><tbody><tr><td>0</td><td style=text-align:center>x</td></tr><tr><td>0</td><td style=text-align:center>x</td></tr><tr><td>0</td><td style=text-align:center>x</td></tr></tbody></table><p><em>x</em> units initialized here are on behalf of the left most outer border. We proceed as follows, For a given <em>X_i</em> determine units <em>b</em> sculpted and units <em>x</em> unsculpted. If a unit is <em>x</em>, Then leave count as it is. If a unit is <em>b</em>, Then check the unit before it, If it is <em>b</em> leave count but if it is <em>x</em> increment count by one. Afterward, Update unit column with the new unit. Do these steps on all vertical units. Repeat the procedure on each $X_i$. The correct result is the sum of all counts.</p><p>We could furtherly improve. Why do we need to track each layer on a separated <em>count</em> for it? Instead, We could define only one variable which gets incremented whenever any layer detects a new laser sculpture. In addition, For the unit column, We do not need to check every unit and compare it with the previous one in order to find blank units preceeded by unsculpted x units. max(0, $X_i$ - $X_{i+1}$) would do the trick of finding blank units b in $X_{i+1}$ preceeded by x unit.</p><h2 id=source-code>Source Code<a hidden class=anchor aria-hidden=true href=#source-code>#</a></h2><pre tabindex=0><code>#include &lt;stdio.h&gt;
#include &lt;algorithm&gt;
#define usi unsigned short int

int main() {
  usi h, w;
  int X_bef, X_cur, cou;

  while(true) {
    scanf(&#34;%hu %hu&#34;, &amp;h, &amp;w);

    if (h == 0)
      break;

    cou = 0;
    X_bef = h;
    
    for (usi i=0; i&lt;w; ++i) {
      scanf(&#34;%d&#34;, &amp;X_cur);
      cou = cou + std::max(0, X_bef-X_cur);
      X_bef = X_cur;
    }

    printf(&#34;%d\n&#34;, cou);
  }
  
  return 0;
}
</code></pre><h2 id=formal-logic>Formal Logic<a hidden class=anchor aria-hidden=true href=#formal-logic>#</a></h2><p>Here comes the formal-logic based proof of our algorithm&rsquo;s correctness. Kindly, note that it might still be flawed. However, If it is not, Then we guarantee the algorithm to yield the correct answer without any bugs or errors. Anyway, Before getting into the proof, We need to rigoursly model the problem of <em>Laser Sculpture - 11683</em>. Those rigor definitions and constraints are derived from our understanding of the problem.</p><h3 id=definitions>Definitions<a hidden class=anchor aria-hidden=true href=#definitions>#</a></h3><p>For the following, We assume $h$, $w$ $\in \mathcal{N}$</p><p><strong>Board</strong>: A 2d-array-alike corresponding to overall units. board is $b = (h \times w)$, units $u_{i,j}$ indexed (labeled) by a cartesian product of board&rsquo;s height and width.</p><p>$X_0$: We define an imaginary height equal to $h$ of a given board. It serves on behalf the left most outer border for the first iteration of our algorithm.</p><p><strong>Sculpture set on board</strong>: A family of sets where each set is the set of units sculpted by the laser while it is still on. The sculpture set is $S = ${$ S_1, S_2, .., S_k$} such that $\cup S \subseteq b$, $S_i \cap S_j = \phi$ for any distinct i and j, $S_i \neq \phi$ for any i. That says sculptures are subset of the original board units, no two sculptures are intersecting, and there&rsquo;s no empty sculpture. That conforms with our understanding that a unit cannot be shot twice by a laser, and a laser is not going to be turned on without sculpting some unit.</p><p><strong>Top-first</strong>: That is a condition which ensures no sculpture occurs on some layer before the layer above it is sculptured. For any $S_q \in S$, $\forall u_{i,j} \in S_q( ${$ u_{x,j} \in b | x < i $}$ \subseteq S_{q-1} \cup S_{q-2} \cup .. \cup S_{1} )$.</p><p><strong>One-row</strong>: That is a condition which ensures a continuous row of units are sculptured at once, not sculptured on multiple times in which the laser is turned on and off multiple times as well. For any two distinct $S_k$ and $S_q$, $\neg( \exists j_0 \exists j_1, u_{i_0,j_0} \in S_q \wedge u_{i_1,j_1} \in S_k \wedge j_1=j_0+1)$ for some $u_{i_0,j_0}$ and $u_{i_1,j_1}$.</p><p><strong>Uniqueness</strong>: It is assumed that there is a unique number of times for the laser to be toggled on and off regardless of of the <em>sculpture set</em>. In other words, Even if there are two possible different sculptures which achieve the desired X&rsquo;s, The number of times the laser needs to be toggled on and off is the same.</p><p><strong>Existince of a Solution</strong>: It is assumed that given height $h$, and width $w$ of the whole board $b$, and given heights $X_1$, $X_2$, .., $X_w$ of position $i$ in the board, There exists a <em>sculpture set</em> $S$ <em>on board</em> $b$ such that $b - S = \cup_{p \in 1, 2, .., w }$ {$ u_{i,p} \in b $} whereby each set {$ u_{i,p_0} \in b $} has a cardinality of $X_{p_0}$. In other words, The set yielded from subtracting the board from sculpture set is composed of units conforming to desired $X$&rsquo;s heights.</p><p><strong>Principal Problem Statement</strong> (finally): Given a board $b_{h \times w}$ of height $h$ and width $w \in \mathcal{Z}^+$, and given heights $X_1$, $X_2$, .., $X_w$, The cardinality of $\textit{sculpture set on board}$ $b$ is equal to $\Sigma_{i=0}^{w-1}min(0, X_i-X_{i+1})$</p><h3 id=proof>Proof<a hidden class=anchor aria-hidden=true href=#proof>#</a></h3><p><strong>Lemma</strong>: For $b-S$, where $b$ is a board of height $h$ and width $w \geq 2$ and $S$ is a <em>sculpture set on</em> $b$ conforming to given heights of unsculpted units of last two board columns $X_{w-1}$ and $X_w$,</p><p><strong>(1)</strong> if $X_{w} < i \leq X_{w-1}$, a unit $u_{i, w}$ is contained in some $S_k$ and no other unit is in $S_k$. That is, for some $S_k \in S$, $S_k = ${$ u_{i, w} $}.</p><p><strong>(2)</strong> if $X_{w} \leq X_{w-1} < i$, a unit $u_{i, w}$ is contained in some $S_k$ which is per se contains an element of $\textit{board}$ $b^{'} = b_{h \times w-1}$.</p><p><strong>(1) Solution</strong>: Assume $X_{w} < i \leq X_{w-1}$. Clearly, unit $u_{i, w} \in \cup S$, As it is above height of column $X_w$. So, $u_{i, w} \in S_k$ for some $S_k \in S$. $S_k$ does not contain other units which are above, below, or diagonal to $u_{i, w}$. Otherwise, $\textit{top first}$ or $\textit{one row}$ conditions shall be violated. Also, no other units are left to $u_{i, w}$ in $S_k$, As $i \leq X_{w-1}$. Hence, $S_k = ${$ u_{i, w} $}.</p><p><strong>(2) Solution</strong>: Assume $X_{w} \leq X_{w-1} < i$. Similar to $\textbf{(1) solution}$, unit $u_{i, w} \in \cup S$, As it is above height of column $X_w$. So, $u_{i, w} \in S_k$ for some $S_k \in S$. $S_k$ does not contain other units which are above, below, or diagonal to $u_{i, w}$. Otherwise, $\textit{top first}$ or $\textit{one row}$ conditions shall be violated. However, unlike $\textbf{(1) solution}$, Nothing precludes a unit left to $u_{i, w}$ to be contained in $S_k$, As $X_{w-1} < i$. On the contrary, if $S_k = ${$ u_{i, w} $} then $\textit{one row}$ condition shall be violated as two sculptures are going to be on the same row without any non-blank separator between them. Through $\textit{proof by contradiction}$, $S_k \neq ${$ u_{i, w} $}. Hence, there are some units $u \in S_k$. Since units from all directions are excluded, except only the left direction, $u_{i, w-1} \in S_k$, which is clearly a unit of $\textit{board}$ $b^{'} = b_{h \times w-1}$.</p><p><strong>Corollary</strong>: From <strong>Lemma (1)</strong>, Obviously, $S_k$ is not an element of $\textit{sculpture set on board}$ $b^{'} = b_{h \times w-1}$ due to the fact that $S_k \not\subseteq b^{'}$</p><p><strong>Problem Statement</strong> (main proof): First we re-write the statement defined above in a more convenient form for induction proof.</p><p>for $w \in \mathcal{Z}^+$,<br>Given $h \in \mathcal{N}$, and heights $X_1$, $X_2$, .., $X_w$, sculpture set on board $b_{h \times w}$ has a cardinality of $\Sigma_{i=0}^{w-1}min(0, X_i-X_{i+1})$.</p><p><strong>Solution</strong>:<br>base, for $w = 1$,<br>Assume we are given $h \in \mathcal{N}$, and heights $X_1$, $X_2$, .., $X_w$. A board $b_{h \times w}$ has a sculpture set on it, by assumption.
Assume $X_{1} < i$. By definition $X_0 = h$. So, $X_1 < i < X_0$. via $\textbf{Lemma (1)}$, each unit $u_{i, 1}$ is contained in some $S_k$ and no other unit is in $S_k$. In other words, cardinality of {$ u_{i, 1} | X_1 < i $} is equal to $S$, the sculpture set on board $b$. clearly, it is also equal to ($X_0$ - $X_1$). since $X_0 \geq X_1$, ($X_0$ - $X_1$) = min(0, $X_0$ - $X_1$) which justifies our problem statement.</p><p>induction hypothesis, for $w^{'} \in \mathcal{Z}^+$ we assume problem statement&rsquo;s validity.</p><p>induction step, for $w = w^{'}+1$,<br>Assume we are given $h \in \mathcal{N}$, and heights $X_1$, $X_2$, .., $X_w$. A board $b_{h \times w}$ has a sculpture set on it, by assumption.
Assume $X_{w} < i$.<br>$\textbf{case 1}$: if it is the case the $i \leq X_{w-1}$, then similarly to base case, each unit $u_{i, w}$ counts a new element in $S$, the sculpture set on board $b$. Recall from $\textbf{corollary}$ that those are not in $S^{'}$, sculpture set on board $b^{'}_{h \times w-1}$. cardinality of units $u_{i, w}$ are clearly equal to $X_{w-1} - X_{w}$. Also, It is clear that $X_{w-1} > X_{w}$, Hence, $X_{w-1} - X_{w}$ = $min(0, X_{w-1} - X_{w})$.</p><p>$\textbf{case 2}$: But if $i > X_{w-1}$, then by $\textbf{lemma (1)}$ each unit $u_{i, w}$ is contained in some $S_k$ which is per se an element of $S^{'}$, the sculpture set on board $b^{'}_{h \times w-1}$. Hence, Those units do not contribute new counts to $S$, the sculpture set on board $b_{h \times w}$ than counted in $S^{'}$. On the other hand, It is clear that $X_{w-1} \leq X_{w}$, So $X_{w-1} - X_{w} \leq 0$. So, $min(0, X_{w-1} - X_{w}) = 0$ which conforms with what we just proved that no new sculptures are added than those in board $b^{'}$.</p><p>From <strong>case 1</strong> and <strong>case 2</strong>, $min(0, X_{w-1} - X_{w})$ is equal to new sculptures not in sculpture set $S^{'}$ on board $b^{'}_{h \times w-1}$. Therefore, cardinality of set $S$ is equal to cardinality set $S^{'}$ plus $min(0, X_{w-1} - X_{w})$. via induction hypothesis, cardinality of $S^{'} = \Sigma_{i=0}^{w^{'}-1}min(0, X_i-X_{i+1})$. So, cardinality of $S = \Sigma_{i=0}^{w-2}min(0, X_i-X_{i+1}) + min(0, X_{w-1}-X_{w}) = \Sigma_{i=0}^{w-1}min(0, X_i-X_{i+1})$
QED</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://mostafatouny.github.io/>Mostafa Touny</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>